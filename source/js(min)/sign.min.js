(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports){"use strict";(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports){"use strict";var $username=$("#username"),$password=$("#password"),$rePassword=$("#re_password"),$btn=$("#btn");$username[0].focus();$username.focus(function(){$username.addClass("active")});$username.blur(function(){blurFn($username,"*用户名不能为空")});$password.focus(function(){$password.addClass("active")});$password.blur(function(){blurFn($password,"*密码不能为空");checkPw($password,$password.val())});$rePassword.focus(function(){$rePassword.addClass("active")});$rePassword.blur(function(){var prevVal=$password.val(),val=$rePassword.val();if(!val){setMsg($rePassword,"*密码不能为空","addClass")}else if(prevVal!=val){setMsg($rePassword,"*与刚输入的密码不一致","addClass")}$rePassword.removeClass("active")});$username.change(function(){var val=$(this).val().toLocaleLowerCase();if(!val)return;$.ajax({type:"get",url:"/check",data:{name:val.toLocaleLowerCase()},dataType:"json",success:function success(result){if(result!="0"){setMsg($username,"*用户名已被占用","addClass")}else{setMsg($username,"","removeClass")}}})});$btn.click(function(){var name=$username.val(),pw=$password.val();$.ajax({type:"post",url:"/signup",data:{name:name.toLocaleLowerCase(),pw:pw},dataType:"json",success:function success(result){if(result=="0"){$(".content").html("恭喜亲，注册成功！！！马上为您跳转至首页……");localStorage.setItem("username",name);setTimeout(function(){window.location.href="http://localhost:9999"},1e3)}}})});function blurFn(obj,str){obj.removeClass("active");var val=obj.val();val?setMsg(obj,"","removeClass"):setMsg(obj,str,"addClass")}function setMsg(obj,str,fn){obj.next(".msg").html(str);if(!fn)return;obj.parent(".item")[fn]("error")}function checkPw(obj,str){if(str.length<6){setMsg(obj,"*多于6位数，这样更安全","addClass");return false}else if(isNaN(str)){setMsg(obj,"*请输入数字哦","addClass");return false}return true}}])}]);